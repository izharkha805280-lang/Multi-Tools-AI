<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Global AI Text to Speech - SuperTools</title>
    <link rel="stylesheet" href="style.css">
    
    <style>
        .tts-container {
            max-width: 650px;
            margin: 0 auto;
            text-align: left;
            background: var(--card-bg);
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        
        textarea {
            width: 100%;
            height: 130px;
            padding: 15px;
            border-radius: 12px;
            border: 2px solid #ddd;
            background: var(--bg-color);
            color: var(--text-color);
            font-size: 1rem;
            resize: none;
            outline: none;
            font-family: sans-serif;
        }
        
        /* Error Animation */
        .error-border { border: 2px solid #ff4757 !important; animation: shake 0.3s; }
        @keyframes shake { 0% { transform: translateX(0); } 25% { transform: translateX(-5px); } 75% { transform: translateX(5px); } 100% { transform: translateX(0); } }

        .controls-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 20px; }
        label { font-size: 0.9rem; font-weight: bold; display: block; margin-bottom: 8px; color: var(--text-color); }
        
        select, input[type="range"] { 
            width: 100%; padding: 12px; border-radius: 8px; border: 1px solid #ddd; 
            background: var(--bg-color); color: var(--text-color); cursor: pointer;
        }

        .action-btn {
            width: 100%; padding: 16px; background: linear-gradient(135deg, #6C63FF 0%, #4834d4 100%);
            color: white; border: none; border-radius: 50px;
            font-size: 1.1rem; font-weight: bold; cursor: pointer; margin-top: 25px; transition: 0.3s;
        }
        .action-btn:hover { transform: translateY(-2px); opacity: 0.95; }
        .action-btn.suspended { background: #444; cursor: not-allowed; transform: none; }

        #warning-msg { text-align: center; margin-top: 15px; font-weight: bold; min-height: 20px; }
        
        #audio-player { width: 100%; margin-top: 20px; display: none; }
        #download-btn { display: none; margin-top: 15px; text-align: center; background: #28a745; color: white; padding: 12px; border-radius: 8px; text-decoration: none; font-weight: bold; }
    </style>
</head>
<body>

    <nav class="navbar">
        <a href="index.html" class="logo">SuperTools.</a>
        <button id="theme-toggle">üåô</button>
    </nav>

    <div class="tool-container">
        <h1>üåç Global Voice Generator</h1>
        <p>Supports 25+ Languages with Male & Female Voices.<br>
        <span style="color: #ff4757; font-size: 0.8rem;">(Warning: Abusive content leads to ban)</span></p>

        <div class="tts-container">
            <textarea id="text-input" placeholder="Type text here to convert into speech..."></textarea>

            <div class="controls-grid">
                <div>
                    <label>1. Select Language</label>
                    <select id="lang-select" onchange="loadVoices()">
                        </select>
                </div>
                
                <div>
                    <label>2. Select Voice</label>
                    <select id="voice-select">
                        </select>
                </div>
            </div>

            <div style="margin-top: 15px;">
                <label>Speed (Slow üê¢ - Fast üêá)</label>
                <input type="range" id="speed-range" min="-3" max="3" value="0" step="1">
            </div>

            <button id="gen-btn" class="action-btn" onclick="checkAndGenerate()">üîä Generate Audio</button>
            
            <p id="warning-msg"></p>

            <audio id="audio-player" controls></audio>
            <a id="download-btn" href="#" download="speech.mp3">‚¨áÔ∏è Download MP3</a>
        </div>

        <a href="index.html" class="back-btn">‚Üê Back to Home</a>
    </div>

    <script src="script.js"></script>

    <script>
        // üî¥üî¥ APNI API KEY YAHAN DALEIN üî¥üî¥
        const API_KEY = '49ed1261a3ad40318f929f07d985c0b1'; 

        // üö´ BAD WORDS LIST
        const badWords = ["stupid", "idiot", "pagal", "kutta", "kill", "die", "abuse", "gali"];

        // üåç DATABASE: All Languages & Voices (Male/Female)
        const voiceData = {
            "hi-in": [ {n: "Puja", g: "üë© Female"}, {n: "Kabir", g: "üë® Male"} ],
            "en-us": [ {n: "Mary", g: "üë© Female"}, {n: "Mike", g: "üë® Male"}, {n: "Linda", g: "üë© Female"}, {n: "John", g: "üë® Male"} ],
            "en-gb": [ {n: "Alice", g: "üë© Female"}, {n: "Harry", g: "üë® Male"}, {n: "Nancy", g: "üë© Female"} ],
            "en-in": [ {n: "Jai", g: "üë® Male (Indian)"}, {n: "Ajit", g: "üë® Male (Indian)"} ],
            "es-es": [ {n: "Camila", g: "üë© Female"}, {n: "Diego", g: "üë® Male"}, {n: "Sofia", g: "üë© Female"} ],
            "fr-fr": [ {n: "Bette", g: "üë© Female"}, {n: "Martin", g: "üë® Male"}, {n: "Iva", g: "üë© Female"} ],
            "de-de": [ {n: "Hanna", g: "üë© Female"}, {n: "Lukas", g: "üë® Male"} ],
            "it-it": [ {n: "Elsa", g: "üë© Female"}, {n: "Ben", g: "üë® Male"} ],
            "ja-jp": [ {n: "Hina", g: "üë© Female"}, {n: "Akira", g: "üë® Male"} ],
            "ko-kr": [ {n: "Nari", g: "üë© Female"} ],
            "zh-cn": [ {n: "Luli", g: "üë© Female"}, {n: "Shu", g: "üë® Male"} ],
            "ar-sa": [ {n: "Salma", g: "üë© Female"} ],
            "ru-ru": [ {n: "Olga", g: "üë© Female"}, {n: "Peter", g: "üë® Male"} ],
            "pt-br": [ {n: "Marcia", g: "üë© Female"}, {n: "Denis", g: "üë® Male"} ],
            "nl-nl": [ {n: "Lotte", g: "üë© Female"}, {n: "Bram", g: "üë® Male"} ],
            "tr-tr": [ {n: "Seda", g: "üë© Female"} ],
            "sv-se": [ {n: "Molly", g: "üë© Female"} ] // Sweden Special
        };

        const langNames = {
            "hi-in": "üáÆüá≥ Hindi (India)",
            "en-us": "üá∫üá∏ English (US)",
            "en-gb": "üá¨üáß English (UK)",
            "en-in": "üáÆüá≥ English (India)",
            "es-es": "üá™üá∏ Spanish",
            "fr-fr": "üá´üá∑ French",
            "de-de": "üá©üá™ German",
            "it-it": "üáÆüáπ Italian",
            "ja-jp": "üáØüáµ Japanese",
            "ko-kr": "üá∞üá∑ Korean",
            "zh-cn": "üá®üá≥ Chinese",
            "ar-sa": "üá∏üá¶ Arabic",
            "ru-ru": "üá∑üá∫ Russian",
            "pt-br": "üáßüá∑ Portuguese",
            "nl-nl": "üá≥üá± Dutch",
            "tr-tr": "üáπüá∑ Turkish",
            "sv-se": "üá∏üá™ Swedish"
        };

        // 1. Initialize Dropdowns
        function initTTS() {
            const langSelect = document.getElementById('lang-select');
            
            // Check suspension
            if (localStorage.getItem('ttsStrikes') >= 3) suspendUser();

            // Fill Language Dropdown
            for (let code in voiceData) {
                let option = document.createElement('option');
                option.value = code;
                option.innerText = langNames[code] || code;
                langSelect.appendChild(option);
            }
            
            // Default load
            loadVoices(); 
        }

        // 2. Load Voices when Language changes
        function loadVoices() {
            const langCode = document.getElementById('lang-select').value;
            const voiceSelect = document.getElementById('voice-select');
            const voices = voiceData[langCode];

            voiceSelect.innerHTML = ""; // Clear old

            voices.forEach(v => {
                let option = document.createElement('option');
                option.value = v.n; // Voice Name (e.g., Puja)
                option.innerText = `${v.g} - ${v.n}`;
                voiceSelect.appendChild(option);
            });
        }

        // 3. Main Generate Function with Safety
        function checkAndGenerate() {
            const textInput = document.getElementById('text-input');
            const text = textInput.value.toLowerCase();
            const btn = document.getElementById('gen-btn');
            const msg = document.getElementById('warning-msg');

            // Suspended?
            if (localStorage.getItem('ttsStrikes') >= 3) { suspendUser(); return; }
            
            if (!textInput.value.trim()) { alert("Please type something!"); return; }

            // Check Bad Words
            let foundBadWord = badWords.some(word => text.includes(word));

            if (foundBadWord) {
                handleStrike();
                return;
            }

            // Clean? Call API
            msg.innerText = "";
            generateSpeechAPI();
        }

        function handleStrike() {
            let strikes = Number(localStorage.getItem('ttsStrikes') || 0) + 1;
            localStorage.setItem('ttsStrikes', strikes);
            
            const msg = document.getElementById('warning-msg');
            const textInput = document.getElementById('text-input');

            textInput.classList.add('error-border');
            setTimeout(() => textInput.classList.remove('error-border'), 500);

            if (strikes >= 3) {
                suspendUser();
            } else {
                msg.innerText = `‚ö†Ô∏è Warning! Bad word detected. Strike ${strikes}/3`;
                msg.style.color = "orange";
            }
        }

        function suspendUser() {
            const btn = document.getElementById('gen-btn');
            const msg = document.getElementById('warning-msg');
            msg.innerText = "‚õî Account Suspended due to Policy Violation.";
            msg.style.color = "red";
            btn.classList.add('suspended');
            btn.disabled = true;
            btn.innerText = "üö´ Blocked";
        }

        function generateSpeechAPI() {
            const text = document.getElementById('text-input').value;
            const lang = document.getElementById('lang-select').value;
            const voiceName = document.getElementById('voice-select').value;
            const speed = document.getElementById('speed-range').value;
            const btn = document.getElementById('gen-btn');
            const player = document.getElementById('audio-player');
            const dlBtn = document.getElementById('download-btn');

            if (API_KEY === 'YOUR_API_KEY_HERE') { alert("Please set your API Key!"); return; }

            btn.innerHTML = "‚è≥ Generating...";
            btn.disabled = true;

            // API Call with Specific Voice Name (v) and Quality (f)
            const url = `https://api.voicerss.org/?key=${API_KEY}&hl=${lang}&v=${voiceName}&src=${encodeURIComponent(text)}&r=${speed}&c=MP3&f=48khz_16bit_stereo`;

            player.src = url;
            player.style.display = "block";
            
            player.onloadeddata = () => {
                player.play();
                btn.innerHTML = "üîä Generate Audio";
                btn.disabled = false;
                dlBtn.href = url;
                dlBtn.style.display = "block";
            };
            
            player.onerror = () => {
                alert("Error generating audio. Please try shorter text.");
                btn.innerHTML = "üîä Generate Audio";
                btn.disabled = false;
            };
        }

        // Start
        window.onload = initTTS;

    </script>
</body>
</html>
